
-----------------------------------------------------------------------
0. Preparation
-----------------------------------------------------------------------
chmod 400 ~/Downloads/labsuser.pem 

ssh -i ~/Downloads/labsuser.pem ubuntu@ec2-34-239-116-203.compute-1.amazonaws.com

update credentials
~/.aws/credentials
sudo systemctl restart assg1

http://ec2-34-239-116-203.compute-1.amazonaws.com

http://ec2-34-239-116-203.compute-1.amazonaws.com/register

Open DynamoDB
Show Login table (tag: assg1)

Open EC2 instance page

Open S3 - s3939713-artist-image

Open Lambda - assg1
Open API Gateway - 	assg1Operation


Demo:
Ask if need to demo pt 1.2, 1.3 & 2

-----------------------------------------------------------------------
1.) Login
-----------------------------------------------------------------------
1a. ) Login Fail - wrong email
email: xxx

1b.) Login Fail 2 - wrong password
email: s39397130@student.rmit.edu.au
password: 99999

1c.) Login Success
email: s39397130@student.rmit.edu.au
password: 012345

-----------------------------------------------------------------------
2.) Logout
-----------------------------------------------------------------------

-----------------------------------------------------------------------
3.) Register
-----------------------------------------------------------------------
3a.) Register Fail
email:		s39397130@student.rmit.edu.au
username:	abc
password:	12345

3b.) Register success
email:		abc@abc.com
username:	abc
password:	12345

3c.) show Lambda
curl -X POST -d "{\"action\":\"read\",\"table_name\":\"login\",\"payload\":{\"email\":\"abc@abc.com\"}}" https://hiwm89ve24.execute-api.us-east-1.amazonaws.com/prod/DynamoDBManager

3d.) show DB login table

-----------------------------------------------------------------------
4.) Subsctiption Area
-----------------------------------------------------------------------
4a.) Login Success
email: s39397130@student.rmit.edu.au
password: 012345

4b.) Show img a tag in Subscription Area

4c.) Remove Subscription (Hotel California)

-----------------------------------------------------------------------
5.) Query Area
-----------------------------------------------------------------------
5a.) Year : 1977
5b.) Show img a tag in Query Area
5c.)	Year : 1977 
		Artist: The Eagles
Sd.) Subscribe music

5e. )Show DB login table

-----------------------------------------------------------------------
6.) Lambda
-----------------------------------------------------------------------
6a.) Open Lambda - assg1
6b.) Open API Gateway - assg1Operation
6c.) Lambda test read - music table 
curl -X POST -d "{\"action\":\"read\",\"table_name\":\"music\",\"payload\":{\"title\":\"Hotel California\",\"artist\":\"The Eagles\"}}" https://hiwm89ve24.execute-api.us-east-1.amazonaws.com/prod/DynamoDBManager

6d.) Lambda test update - login table 
curl -X POST -d "{\"action\":\"update\",\"table_name\":\"login\",\"payload\":{\"email\":\"abc@abc.com\",\"password\":\"a\",\"user_name\":\"lambda_update\"}}" https://hiwm89ve24.execute-api.us-east-1.amazonaws.com/prod/DynamoDBManager

curl -X POST -d "{\"action\":\"read\",\"table_name\":\"login\",\"payload\":{\"email\":\"abc@abc.com\"}}" https://hiwm89ve24.execute-api.us-east-1.amazonaws.com/prod/DynamoDBManager

6e.) Lambda test update - music table 
curl -X POST -d "{\"action\":\"update\",\"table_name\":\"music\",\"payload\":{\"year\":\"2047\",\"web_url\":\"https://raw.githubusercontent.com/davidpots/songnotes_cms/master/public/songs/56-the-eagles-hotel-california/lambda_update\",\"artist\":\"The Eagles\",\"img_url\":\"https://raw.githubusercontent.com/davidpots/songnotes_cms/master/public/images/artists/TheEagles.jpg\",\"title\":\"Hotel California\"}}" https://hiwm89ve24.execute-api.us-east-1.amazonaws.com/prod/DynamoDBManager
